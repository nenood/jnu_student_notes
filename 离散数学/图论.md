# 路与回路

## 定义
#### 路、回路

- 路：连接各个节点
- 回路：头尾节点相同的路
- 通路：不存在重复节点的路
- 圈：除头尾节点外不存在重复节点的回路
- 迹：不存在重复边的路
#### 连通性
- 连通：两节点之间存在路
- 连通分支：将一个图划分为若干子图，两个节点只有属于同一个集合时连通，连通分支数记为 $W(G)$
- 点割集：如果将集合中所有点及其相连的边从图中移除，会导致图变得不连通（即图的连通分支数增加）
- 割点：单独构成点割集的点
- 点连通度：在保持图连通的前提下，至少需要移除多少个顶点（及其相连的边）才能使图不连通，记为 $k(G)$
- 边割集：如果移除该边集中的所有边后，图会变得不连通的边集
- 割边：单独构成边割集的边
- 边连通度：在保持图连通的前提下，至少需要移除多少条边才能使图不连通，记为 $\lambda(G)$
#### 最短路
- 两节点之间的最短路记为两节点的距离（或短程线），用 $d(u, v)$ 表示
- $D=\max d(u, v)$ 称为图的直径
#### 强弱连通（在有向图中）
单侧连通：图中存在一对节点仅单侧可达（不要求图为连通图）
强连通：图中任意两节点相互可达
弱连通：单侧连通的有向图转为无向图后是连通的
强/弱/单侧分图：具有强/弱/单侧性质的最大子图
## 定理
- 两节点间必然存在一条不多于 $n-1$ 条边的路
- 两节点间必然存在一条小于 $n$ 条边的通路
- 连通图只有一个连通分支
- $k(K_p) = p-1$（完全图的点连通度为 $节点数-1$）
- $k(G) \leq \lambda(G) \leq \delta(G)$（点连通度≤边连通度≤最小度数）
- 两节点间每一条路都经过的节点为割点
- 强连通 $\iff$ 图中存在一个回路，该回路至少包含每个节点一次
- 有向图中的每个节点只位于一个强分图中
- 对于 邻接矩阵 $A(G)$，$(A(G))^k$ 中，$a_{ij}$ 表示从 $v_i$ 到 $v_j$ 的长度为 $k$ 的（回）路的数量
- 对于有 $n$ 个节点的连通图， $rank~M(G) = r-1$
- 对于有 $n$ 个节点，$w$ 个最大连通子图的连通图，$M(G)$ 是完全关联矩阵，$rank~M(G) = n-w$
# 欧拉图与哈密顿图
## 定义
#### 欧拉图
- 欧拉路径：一条经过所有边且不重复的路
- 欧拉回路：一条经过所有边且不重复的回路
	- 有向图中为单向欧拉路径（回路）
#### 哈密顿图
- 哈密顿路径：经过所有节点恰好一次的路径
- 哈密顿回路：经过所有节点恰好一次的回路

#### 闭包

```python
G, G' = <V, E>
节点总数 n
while G'中存在非邻接节点 and 两节点度数之和大于等于 n:
	连接这两个节点
```
$C(G) = G'$ 称为 $G$ 的闭包

## 定理

#### 欧拉图
- 对于无向图，当且仅当其连通且奇数度节点有 0 或 2 个时，有欧拉路径
- 对于无向图，当且仅当所有节点全为偶数度节点时，有欧拉回路
- 对于有向图，当且仅当其连通且{有两个节点，一个入度比出度大 1 另一个入度比出度小 1}，其余节点入度等于出度时，有欧拉路径
- 对于有向图，当且仅当其连通且所有节点入度等于出度时，有欧拉回路
#### 哈密顿图
- 若一个图有哈密顿回路，则对任意一个节点子集 $S$，
    $G-S$ 的连通分支数 $W(G-S)\leq|S|$
- 对于一个图，若其为简单图且每一对节点度数之和大于等于 $n-1~\rightarrow$ 该图有哈密顿路径（这不是充要条件）
- 对于一个图，若其为简单图且每一对节点度数之和大于等于 $n~\rightarrow$ 该图有哈密顿回路（这不是充要条件）
- 一个简单图的闭包是哈密顿图 $\iff$  该简单图也为哈密顿图
# 平面图
## 定义
- 平面图：边之间没有交点的图（可以通过改画图像得到）
- 面：边所包围的区域
- 边界：构成面的边所形成的回路
- 面的次数：面的边界长度
- 在 $k$ 度节点内同构：对两个图通过多次添加或删除度数为 $k$ 的节点，后使得两图同构
## 定理
- 对于有限平面图，面的次数和等于边数的两倍
- 欧拉公式：$V-E+R=2$
- 判断非平面图的充分条件：对于一个连通的简单平面图，若 $V\geq 3 \longrightarrow E \leq 3V-6$ 
- 判断平面图的充要条件：一个图是平面图 $\iff$ 该图不包含与 $K_{3,3}, K_5$ 在 $2$ 度节点内同构的子图
# 对偶图与着色
## 定义
#### 对偶
- 对偶图：$G$ 和 $G^{~*}$ 互为对偶图，对于 $G$ 中的每一个面（包括外面），$G^{~*}$ 中均有一个对应的节点在其内部，反之亦然
- 自对偶图：$G$ 与其对偶图 $G^{~*}$ 同构
#### 着色
- 最少着色数：$x(G)$
- $Welch Powell$ 着色法：
```python
for node in sorted_node(按度数降序排序后的节点):
	if node未着色：
		对node及其的所有不邻接节点着相同颜色
		换一种颜色
	if 所有节点已着色:
		break
```
## 定理

- $x(K_n) = n$
- 对于一个至少有三个节点的连通平面图，必存在度数小于 5 的节点
- 任意平面图，最多为 5-色 (?)

# 树与生成树

## 定义

-   树：无向图
    -   无回路的连通图
    -   每个节点之间仅有一条路
    -   $E=V-1$
    -   $\lambda(G)=1$
-   生成树：一个图的子图是树，该树称为生成树
-   最小生成树：一个图的所有生成树中，边权和最小的那棵树

## 定理

-   连通图至少有一颗生成树

-   图中的一条回路/边割集和该图的任何一颗生成树的补至少有一条公共边

-   $Kruskal$ 算法得到最小生成树：
    ```python
    V = {}, E = {}
    G = <V, E>
    sum = 0
    for edge in sorted_edges（按边权升序排列的边）:
        if 加入该边 不会 出现环:
            将该边加入图中
        if G是生成树（边数等于n-1）:
        	break
    ```

# 根树及其应用

## 定义

-   有向树：不考虑边的方向时是一颗树的有向图
-   根树：恰有一个节点入度为 0，其余节点入度为 1 的有向树，入度为 0 的为根，出度为 0 的为叶，出度不为 0 的为分支点或内点
-   （完全）$m$ 叉树：每一个节点的出度均（恰好等于）小于等于 $m$ 的根树
-   内部/外部 通路长度：根到 分支节点/叶节点 的通路的长度
-   带权二叉树：有 $t$ 个叶节点，每个叶节点带有权值 $w_1, w_1, ..., w_t$
-   最优带权二叉树（哈夫曼树）：
    -   对于带权为 $w_i$ 的叶节点，其通路长度为 $L(w_i)$
    -   将 $w(T) = \sum_{i=1}^{t}w_iL(w_i)$ 称为该带权二叉树 $T$ 的 权
    -   最优树为 $w(T)$ 最小的那棵树
-   前缀码：一个 $01$ 序列集合，没有一个序列是其他序列的前缀
    -   前缀码和二叉树一一对应

## 定理

-   对于完全 $m$ 叉树，树叶数为 $t$，分枝点数为 $i$，则有 $i(m-1)=t-1$
-   对于有 $n$ 个分枝点的完全二叉树，内部通路长度总和为 $I$，外部通路长度总和为 $E$，有 $E=I+2n$
-   对于带权 $w_1 \leq w_2 \leq~...~\leq w_t$ 的最优树 $T$：
    -   带权 $w_1, w_2$ 的叶节点 $v_{w_1}, v_{w_2}$ 互为兄弟节点
    -   $v_{w_1}, v_{w_2}$ 的父节点的通路长度最长
    -   若将 $v_{w_1}, v_{w_2}$ 的父节点改为带权 $w_1+w_2$ 的叶节点，得到的新树 $T~'$ 也是最优树